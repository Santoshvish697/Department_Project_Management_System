CREATE DATABASE DEPT_PROJECT1;
USE DEPT_PROJECT1;

CREATE TABLE USERS (
Email VARCHAR(100) PRIMARY KEY,
PASSWORD VARCHAR(50) NOT NULL UNIQUE
);

CREATE TABLE STUDENT (
USN VARCHAR(25) PRIMARY KEY,
First_Name VARCHAR(25),
Middle_Name VARCHAR(25),
Last_Name VARCHAR(25),
Email VARCHAR(50) NOT NULL UNIQUE,
Phone_no VARCHAR(15),
FOREIGN KEY (Email) REFERENCES USERS (Email) ON DELETE CASCADE
);

CREATE TABLE PANEL_MEMBERS (
Panel_ID INT(11) PRIMARY KEY auto_increment,
USN VARCHAR(25),
FOREIGN KEY (USN) REFERENCES STUDENT(USN)
);

DROP TABLE IF EXISTS DELIVERABLE_PROJECT;
CREATE TABLE DELIVERABLE_PROJECT (
Project_ID INT PRIMARY KEY AUTO_INCREMENT,
Project_Title VARCHAR(50) UNIQUE,
Late_Submission BOOLEAN,
Project_Objective VARCHAR(150),
Project_Outcome VARCHAR(150),
Project_Domain VARCHAR(100),
-- Submission varbinary(100),
Panel_ID INT (11),
USN VARCHAR(25),
FOREIGN KEY (Panel_ID) REFERENCES PANEL_MEMBERS(Panel_ID) ON DELETE SET NULL,
FOREIGN KEY (USN) REFERENCES STUDENT(USN)
);

DROP TABLE IF EXISTS DIARY;
CREATE TABLE DIARY (
ID INT(11) PRIMARY KEY AUTO_INCREMENT,
DATE DATE,
COMMENTS VARCHAR(100),
WORK_DONE VARCHAR(100),
USN VARCHAR(25),
FOREIGN KEY (USN) REFERENCES STUDENT(USN) ON DELETE CASCADE
);

DROP TABLE IF EXISTS GUIDE;
CREATE TABLE GUIDE (
Guide_ID VARCHAR(25) PRIMARY KEY,
First_Name VARCHAR(25),
Middle_Name VARCHAR(25),
Last_Name VARCHAR(25),
Email VARCHAR(100) NOT NULL UNIQUE,
Phone_No VARCHAR(15),
Project_ID INT(11),
USN VARCHAR(25),
ID INTEGER(11),
FOREIGN KEY (Project_ID) REFERENCES DELIVERABLE_PROJECT(Project_ID),
FOREIGN KEY (USN) REFERENCES STUDENT(USN),
FOREIGN KEY (ID) REFERENCES DIARY(ID) ON DELETE SET NULL,
FOREIGN KEY (Email) REFERENCES USERS(Email)
);

CREATE TABLE COORDINATOR (
Department_Name VARCHAR(25) PRIMARY KEY,
Panel_ID INT(11),
ID VARCHAR(25),
USN VARCHAR(25),
Email VARCHAR(25),
FOREIGN KEY (Email) REFERENCES USERS(Email) ON DELETE CASCADE,	
FOREIGN KEY (ID) REFERENCES GUIDE(Guide_ID) ON DELETE SET NULL,
FOREIGN KEY (USN) REFERENCES STUDENT(USN),
FOREIGN KEY (Panel_ID) REFERENCES PANEL_MEMBERS(Panel_ID)
);


CREATE TABLE INTERNSHIP_GUIDE (
Intern_ID INT(11) auto_increment,
FIRST_NAME VARCHAR(25),
MIDDLE_NAME VARCHAR(25),
LAST_NAME VARCHAR(25),
COMPANY VARCHAR(25),
DOJ DATE,
FOREIGN KEY (Intern_ID) REFERENCES PANEL_MEMBERS(Panel_ID)
);

CREATE TABLE GUIDE_DOMAIN (
ID VARCHAR(25),
DOMAIN VARCHAR(25),
FOREIGN KEY (ID) REFERENCES GUIDE(GUIDE_ID) ON DELETE CASCADE,
PRIMARY KEY(ID)
);

CREATE TABLE GUIDE_ALLOT (
Panel_ID INT(11),
ID VARCHAR(25),
FOREIGN KEY (Panel_ID) REFERENCES PANEL_MEMBERS(Panel_ID) ON DELETE CASCADE,
FOREIGN KEY (ID) REFERENCES GUIDE(Guide_ID),
PRIMARY KEY (Panel_ID,ID)
);


INSERT INTO USERS VALUES
('santoshv.is20@rvce.edu.in','root'),
('pritishraj.is20@rvce.edu.in','root2'),
('pulkitgarg.is20@rvce.edu.in','root3'),
('shankartejasvi.is20@rvce.edu.in','cust045'),
('anushkajindal.is20@rvce.edu.in','cust006'),
('amit@rvce.edu.in','123232'),
('amit21@rvce.edu.in','32811'),
('amit22@rvce.edu.in','443943'),
('amit23@rvce.edu.in','4439433'),
('ami323t@rvce.edu.in','443923'),
('ise2020@rvce.edu.in','root1233');


INSERT INTO STUDENT VALUES
  ('1RV20IS043','SANTHOSH','','Vishwanathan','santoshv.is20@rvce.edu.in',9832784529),
  ('1RV20IS035','PRITISH','','RAJ','pritishraj.is20@rvce.edu.in',9472682396),
('1RV20IS036','PULKIT','','GARG','pulkitgarg.is20@rvce.edu.in',6397735901),
  ('1RV20IS045','SHANKAR','','TEJASVI','shankartejasvi.is20@rvce.edu.in',9832784529),
  ('1RV20IS006','ANUSHKA','','JINDAL','anushkajindal.is20@rvce.edu.in',941302389);

  
INSERT INTO PANEL_MEMBERS (PANEL_ID,USN) VALUES (104,'1RV20IS006');
INSERT INTO PANEL_MEMBERS (PANEL_ID,USN) VALUES (105,'1RV20IS035');
INSERT INTO PANEL_MEMBERS (PANEL_ID,USN) VALUES (102,'1RV20IS036');
INSERT INTO PANEL_MEMBERS (PANEL_ID,USN) VALUES (100,'1RV20IS043');
INSERT INTO PANEL_MEMBERS (PANEL_ID,USN) VALUES (103,'1RV20IS045');


INSERT INTO DELIVERABLE_PROJECT (Project_ID,Project_Title,Late_Submission,Project_Objective,
Project_Outcome,Project_Domain,Panel_ID,USN) VALUES 
('1006','Department Project Management System',TRUE,'Games','App','DBMS','100','1RV20IS043'),
('1003','Diabetes Prediction',FALSE,'To predict diabetes in patients','Website','DBMS','103','1RV20IS045'),
('1004','Alzheimers Prediction',TRUE,'To predict Alzheimers','Website','AIML','104','1RV20IS006'),
('1005','Department Project',FALSE,'Chat App','Website','DBMS','102','1RV20IS036');



SELECT * FROM GUIDE;

INSERT INTO DIARY (ID, DATE,COMMENTS,WORK_DONE,USN) VALUES
('10003','2003-02-10','XYZ','DONE','1RV20IS043'),
('10004','2003-02-10','ABC','NOT_DONE','1RV20IS035'),
('10005','2003-02-10','JBC','DONE','1RV20IS036'),
('10006','2003-02-10','DJBKB','NOT_DONE','1RV20IS045'),
('10007','2003-02-10','SVHS','DONE','1RV20IS006');

INSERT INTO GUIDE (Guide_ID,First_Name,Middle_Name,Last_Name,Email,Phone_No,Project_ID,USN,ID) VALUES
('1201','Amit','M','Agarwal','amit@rvce.edu.in',4890239881,1003,'1RV20IS035',10003),
('1202','Samit','M','Agarwal','amit21@rvce.edu.in',4890267981,1004,'1RV20IS035',10004),
('1203',',Mamit','M','Agarwal','amit22@rvce.edu.in',489023981,1005,'1RV20IS035',10005),
('1204','Kamit','S','Agarwal','amit23@rvce.edu.in',4890234481,1006,'1RV20IS035',10006);



INSERT INTO COORDINATOR (DEPARTMENT_NAME,PANEL_ID,ID,USN,EMAIL) VALUES
('ISE','100','1201','1RV20IS043','ise2020@rvce.edu.in');


INSERT INTO GUIDE_DOMAIN(ID,DOMAIN) VALUES
('1201','AIML'),
('1202','NLP'),
('1203','CNN'),
('1204','WSN');


INSERT INTO GUIDE_ALLOT(Panel_ID,ID) VALUES
('100','1201'),
('103','1202'),
('104','1203'),
('105','1204');



INSERT INTO INTERNSHIP_GUIDE(INTERN_ID,FIRST_NAME,MIDDLE_NAME,LAST_NAME,COMPANY,DOJ) VALUES
('100','RAM','','KUMAR','ADOBE','2001-02-02'),
('103','RAMA','','KUMARI','MICROSOFT','2007-12-02'),
('102','RAJ','','KUMAR','GOOGLE','2004-12-02'),
('104','HARSH','','AGRAWAL','UIPATH','2002-12-02');


SELECT * FROM PANEL_MEMBERS;
SELECT * FROM DELIVERABLE_PROJECT;
SELECT * FROM USERS;
SELECT * FROM DIARY;
SELECT * FROM GUIDE;
SELECT * FROM COORDINATOR;
SELECT * FROM GUIDE_ALLOT;
SELECT * FROM INTERNSHIP_GUIDE;







